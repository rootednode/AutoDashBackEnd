"use strict";(globalThis.webpackChunkAutoDashFrontEndBoilerPlate=globalThis.webpackChunkAutoDashFrontEndBoilerPlate||[]).push([[792],{471:(e,t,d)=>{let o=0;const a=(e=!1)=>(e&&(o=0),o++),y={RPM:{id:a(),byteType:2},SPEEDO:{id:a(),byteType:2},PW1:{id:a(),byteType:3},ADV:{id:a(),byteType:3},DUTY_CYCLE:{id:a(),byteType:1},AFR:{id:a(),byteType:3},IGNITION_TIMING:{id:a(),byteType:3},MAP:{id:a(),byteType:2},MAT:{id:a(),byteType:2},TPS:{id:a(),byteType:2},EGO:{id:a(),byteType:2},CTS:{id:a(),byteType:2},STATUS1:{id:a(),byteType:2},STATUS2:{id:a(),byteType:2},STATUS3:{id:a(),byteType:2},STATUS4:{id:a(),byteType:2},STATUS5:{id:a(),byteType:2},STATUS6:{id:a(),byteType:2},STATUS7:{id:a(),byteType:2},STATUS8:{id:a(),byteType:2},CURRENT_ODOMETER:{id:a(),byteType:2},ODOMETER:{id:a(),byteType:2},TRIP_ODOMETER:{id:a(),byteType:2},GPS_SPEEED:{id:a(),byteType:2},WARNINGS:{id:a(),byteType:4},FUEL_LEVEL:{id:a(),byteType:1},CURRENT_MPG:{id:a(),byteType:3},AVERAGE_MPG:{id:a(),byteType:3},AVERAGE_MPG_POINTS:{id:a(),byteType:5},AVERAGE_MPG_POINT_INDEX:{id:a(),byteType:1},LOW_LIGHT_DETECTED:{id:a(),byteType:1},PRESSURE_TYPE:{id:a(),byteType:1},TEMP_TYPE:{id:a(),byteType:1},SOME_NEW_VALUE:{id:a(),byteType:8}};let g=0;Object.keys(y).forEach((e=>{const t=y[e];switch(t.byteOffset=g,t.byteType){case 1:case 4:case 6:g+=1;break;case 2:case 7:g+=2;break;case 3:case 8:g+=4;break;case 5:g+=100;break;default:throw new Error(`Unknown byteType: ${t.byteType}`)}})),Object.freeze(y);const u={BATT_VOLTAGE:a(!0),OIL_PRESSURE:a(),LOW_FUEL:a(),ENGINE_TEMPERATURE:a(),ECU_COMM:a(),GPS_NOT_ACQUIRED:a(),GPS_ERROR:a(),COMM_ERROR:a()};Object.freeze(u);const i=(e,t)=>String(e).padStart(t,"0"),n=new Worker(new URL(d.p+d.u(272),d.b));let T=[],s=!0,p=!1;var l=0;const c=()=>{var e,t,d;s&&(n.postMessage({msg:"process_update_data",updateData:T}),s=!1),p=E(u.COMM_ERROR),1==p?(console.log(p),document.body.style.backgroundColor="#AA0000"):document.body.style.backgroundColor="#000000",((e,t)=>{if(t);else if(void 0===e)e=0,console.log("undefined rpm",e);else{var d=document.gauges.get("rpmbar");d.update({value:e}),d.update({colorBarProgress:"rgba(0, 250, 0, .75)"})}})(T[y.RPM.id],p),l>=10&&(e=T[y.SPEEDO.id],t=T[y.CURRENT_ODOMETER.id],d=T[y.TRIP_ODOMETER.id],p||(document.getElementById("tripodometer").textContent=d,document.getElementById("odometer").textContent=i(t,6),void 0===e?(e=0,console.log("undefined speed",e)):document.getElementById("digispeed").textContent=i(e,2)),((e,t)=>{t||(void 0===e?e=0:document.gauges.get("cltgauge").update({value:e}),document.getElementById("cold").style.opacity=e<180?"1":".3",document.body.style.backgroundColor=e>215?"#AA0000":"#000000")})(T[y.CTS.id],p),((e,t)=>{t||(void 0===e?e=40:document.gauges.get("matgauge2").update({value:e}),document.body.style.backgroundColor=e>180?"#AA0000":"#000000")})(T[y.MAT.id],p),((e,t)=>{t||(void 0===e?(e=0,console.log("undefined tps",e)):(document.gauges.get("tpsgauge").update({value:e}),document.gauges.get("tpsgauge2").update({value:e})))})(T[y.TPS.id],p),((e,t)=>{t||(void 0===e?(e=0,console.log("undefined ego",e)):document.gauges.get("egogauge").update({value:e}))})(T[y.EGO.id],p),((e,t)=>{t||(console.log(e),void 0===e?(e=0,console.log("undefined pw",e)):document.gauges.get("pwgauge").update({value:e}))})(T[y.PW1.id],p),((e,t)=>{if(t);else if(void 0===e)e=0,console.log("undefined map",e);else{document.gauges.get("mapgauge").update({value:e}),console.log(e);let t=(e-100)/6.894;t<0&&(t=0),t>14&&(t=14),document.gauges.get("boostgauge").update({value:t})}})(T[y.MAP.id],p),((e,t)=>{t||(void 0===e?(e=0,console.log("undefined adv",e)):document.gauges.get("advgauge").update({value:e}))})(T[y.ADV.id],p),((e,t,d)=>{d||(void 0===e?(e=0,console.log("undefined mpg",e)):(document.gauges.get("mpggauge").update({value:e}),document.gauges.get("mpgcurgauge").update({value:t})))})(T[y.AVERAGE_MPG.id],T[y.CURRENT_MPG.id],p),((e,t)=>{if(t);else{console.log("s7",e),document.getElementById("ac").style.opacity=32&~e?".3":"1";var d=document.getElementById("warning"),o=document.getElementById("oil");64&~e?(d.style.opacity=".3",o.style.opacity=".3"):(d.style.opacity="1",o.style.opacity="1")}})(T[y.STATUS7.id],p),l=0),l+=1,requestAnimationFrame(c)},E=e=>!!(T[y.WARNINGS.id]&128>>e%8);n.onmessage=e=>{if("update_data_ready"===e.data.msg)try{T=e.data.updateData,s=!0}catch(e){console.error(e)}},n.postMessage({msg:"start"}),c()}},e=>{e(e.s=471)}]);